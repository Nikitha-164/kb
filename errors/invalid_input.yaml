kb_metadata:
  version: 1.0.0
  status: ACTIVE
  last_reviewed: 2024-06-05
error_type: InvalidInputException
error_scope: AWS::Glue::Job
category: CONFIG
severity: MEDIUM

description: >
  The job configuration contains invalid arguments or malformed S3 paths.

possible_causes:
  - Incorrect S3 URI format (missing s3://)
  - Unescaped characters or trailing slashes issues
  - Invalid job argument names or values

safe_fixes:
  - fix_id: FIX_S3_PATH_FORMAT
    title: Correct S3 path format
    description: Normalize S3 path format (scheme, slashes) in job arguments
    requires_live_checks: [invalid_s3_uri]
    allowed_service_actions: [glue:UpdateJob]
    resource_constraints:
      resource_type: job_argument_only
    risk_level: LOW

  - fix_id: FIX_JOB_ARGUMENTS
    title: Correct invalid job arguments
    description: Replace or remove invalid argument keys/values with approved defaults
    requires_live_checks: [invalid_job_arguments]
    allowed_service_actions: [glue:UpdateJob]
    resource_constraints:
      resource_type: job_argument_only
    risk_level: LOW

constraints:
  must_not_grant_wildcard_resource: true
  max_policy_statements_added: 0

automation_policy:
  auto_remediation_allowed: true
  human_approval_required_for: []

audit_metadata:
  owner_team: data-platform
  compliance_tags: [config, glue]